<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ARCON - Staff Operations</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode/1.5.1/qrcode.min.js"></script>
  <script>tailwind.config = { theme: { extend: { colors: { 'ng-green': '#008751' } } } }</script>
  <style>body{font-family:sans-serif;}</style>
</head>
<body class="flex h-screen bg-gray-100 overflow-hidden">

  <aside class="w-64 bg-gray-900 text-gray-300 flex flex-col">
    <div class="h-16 flex items-center px-6 border-b border-gray-800 font-bold text-white text-lg tracking-wider">ARCON <span class="text-xs bg-ng-green ml-2 px-2 py-0.5 rounded">STAFF</span></div>
    <nav class="flex-1 p-4 space-y-2">
      <button onclick="setView('reviews')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-800 text-white font-medium">Application Reviews</button>
      <button onclick="setView('map')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-800 text-white font-medium">Asset Map</button>
    </nav>
    <div class="p-4 border-t border-gray-800 text-xs">Logged in as Officer</div>
  </aside>

  <main class="flex-1 flex flex-col">
    <header class="h-16 bg-white shadow-sm flex items-center justify-between px-8">
      <h2 class="font-bold text-gray-700 text-xl" id="page-title">Application Reviews</h2>
      <span class="text-sm text-green-600 font-bold">System Operational</span>
    </header>

    <div class="flex-1 overflow-y-auto p-8 relative">
      
      <div id="view-reviews" class="space-y-6">
        <div class="bg-white rounded-lg shadow overflow-hidden">
          <table class="w-full text-left text-sm">
            <thead class="bg-gray-50 border-b">
              <tr>
                <th class="p-4">App ID</th>
                <th class="p-4">Applicant</th>
                <th class="p-4">Payment</th>
                <th class="p-4">Status</th>
                <th class="p-4 text-right">Actions</th>
              </tr>
            </thead>
            <tbody class="divide-y">
              <tr>
                <td class="p-4">APP-2025-88</td>
                <td class="p-4">Glo Mobile</td>
                <td class="p-4 text-green-600 font-bold">Verified</td>
                <td class="p-4"><span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">Pending</span></td>
                <td class="p-4 text-right space-x-2">
                  <button onclick="alert('Query Sent')" class="text-red-600 hover:bg-red-50 px-2 py-1 rounded">Query</button>
                  <button onclick="alert('Approved. QR Generated.')" class="bg-ng-green text-white px-3 py-1 rounded hover:bg-green-700">Approve</button>
                </td>
              </tr>
              <tr>
                <td class="p-4">APP-2025-89</td>
                <td class="p-4">Zenith Bank</td>
                <td class="p-4 text-gray-400">Unconfirmed</td>
                <td class="p-4"><span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">Awaiting Pay</span></td>
                <td class="p-4 text-right text-gray-400 italic text-xs">Cannot Action</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div id="view-map" class="hidden h-full flex flex-col">
        <div class="bg-white p-4 rounded-t-lg border-b flex gap-4">
            <input type="text" placeholder="Search Asset ID..." class="border rounded px-3 py-1 text-sm w-64">
            <button class="bg-gray-800 text-white px-4 py-1 rounded text-sm">Search</button>
        </div>
        <div id="map" class="flex-1 bg-gray-200 rounded-b-lg border border-gray-300 min-h-[500px]"></div>
      </div>

    </div>
  </main>

  <script>
    let map;
    function setView(id){
      document.getElementById('view-reviews').classList.add('hidden');
      document.getElementById('view-map').classList.add('hidden');
      
      document.getElementById('view-'+id).classList.remove('hidden');
      document.getElementById('page-title').innerText = id === 'reviews' ? 'Application Reviews' : 'Asset Map';

      if(id === 'map' && !map){
        setTimeout(() => {
          map = L.map('map').setView([9.0820, 8.6753], 6);
          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
          // Mock Marker
          L.circleMarker([9.0765, 7.3986], {color: '#008751', radius: 8}).addTo(map).bindPopup("<b>Valid Asset</b><br>APP-2025-002");
        }, 100);
      }
    }
  </script>
</body>
</html>
